window.jarvis=window.jarvis||{},window.jarvis.ready=function(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)},function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.events=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(o){"use strict";function i(t){r[t.type]&&r[t.type].forEach(function(e){!function(e,t){return-1<["*","window","document","document.documentElement",o,document,document.documentElement].indexOf(t)||("string"!=typeof t&&t.contains?t===e||t.contains(e):e.closest(t))}(t.target,e.selector)||e.callback(t)})}var e={},r={};return e.on=function(e,t,n){t&&n&&e.split(",").forEach(function(e){e=e.trim(),r[e]||(r[e]=[],o.addEventListener(e,i,!0)),r[e].push({selector:t,callback:n})})},e}),function(){var t=function(e){var t=document.querySelector(e);t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())};window.jarvis=window.jarvis||{},window.jarvis.focusElement=function(e){e.target.hash&&t(e.target.hash)},window.jarvis.focusSelector=t}(),window.jarvis=window.jarvis||{},window.jarvis.getParents=function(e,t){for(var n=[];e&&e!==document;e=e.parentNode)t?e.matches(t)&&n.push(e):n.push(e);return n},window.jarvis=window.jarvis||{},window.jarvis.is_touch_device=function(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints},window.jarvis=window.jarvis||{},window.jarvis.menuToggle=function(){events.on("click",".menu-toggle",function(e){var t=document.querySelector(".menu-primary"),n=document.querySelector("#nav"),o=e.target;t.classList.toggle("menu-on"),t.classList.contains("menu-on")?(n.setAttribute("aria-expanded","true"),o.setAttribute("aria-expanded","true")):(n.setAttribute("aria-expanded","false"),o.setAttribute("aria-expanded","false"))})},window.jarvis=window.jarvis||{},window.jarvis.menuTouch=function(){if(jarvis.is_touch_device()){events.on("touchend","#nav > .menu-item-has-children > a",function(e){var t=jarvis.getParents(e.target,"li")[0];t.classList.contains("focus")||document.querySelector(".menu").classList.contains("menu-on")||(n(),e.preventDefault()),t.classList.add("focus")}),events.on("touchstart","body",function(e){jarvis.getParents(e.target,"li").length||n()});var n=function(){document.querySelectorAll("#nav > li").forEach(function(e){e.classList.remove("focus")})}}},window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1),jarvis.ready(function(){events.on("click",'a[href^="#"]',jarvis.focusElement);var e="device-click";jarvis.is_touch_device()&&(e="device-touch"),document.querySelector("html").classList.add(e),jarvis.menuTouch(),jarvis.menuToggle(),events.on("click",".menu a:not([href])",function(e){e.preventDefault()}),document.querySelectorAll("a:not([href])").forEach(function(e){e.classList.add("menu-no-href"),e.setAttribute("href","#")}),jarvis.focusSelector(".post-password-form input[type=password]"),jarvis.focusSelector("body.search .search-field")});