window.jarvis=window.jarvis||{},window.jarvis.ready=function(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)},function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.events=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(i){"use strict";function r(t){c[t.type]&&c[t.type].forEach(function(e){!function(e,t){return-1<["*","window","document","document.documentElement",i,document,document.documentElement].indexOf(t)||("string"!=typeof t&&t.contains?t===e||t.contains(e):e.closest(t))}(t.target,e.selector)||e.callback(t)})}var a={},c={};return a.on=function(e,t,n){t&&n&&e.split(",").forEach(function(e){e=e.trim(),c[e]||(c[e]=[],i.addEventListener(e,r,!0)),c[e].push({selector:t,callback:n})})},a.off=function(e,n,o){e.split(",").forEach(function(e){if(e=e.trim(),c[e]){if(c[e].length<2||!n)return delete c[e],void i.removeEventListener(e,r,!0);var t=function(e,t,n){for(var o=0;o<e.length;o++)if(e[o].selector===t&&e[o].callback.toString()===n.toString())return o;return-1}(c[e],n,o);t<0||c[e].splice(t,1)}})},a.once=function(n,o,i){a.on(n,o,function e(t){i(t),a.off(n,o,e)})},a.get=function(){var e={};for(var t in c)c.hasOwnProperty(t)&&(e[t]=c[t]);return e},a}),window.jarvis=window.jarvis||{},window.jarvis.focusElement=function(e){if(e.target.hash){var t=document.querySelector(e.target.hash);t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}},window.jarvis=window.jarvis||{},window.jarvis.getParents=function(e,t){for(var n=[];e&&e!==document;e=e.parentNode)t?e.matches(t)&&n.push(e):n.push(e);return n},window.jarvis=window.jarvis||{},window.jarvis.is_touch_device=function(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints},window.jarvis=window.jarvis||{},window.jarvis.menuToggle=function(){events.on("click",".menu-toggle",function(e){var t=document.querySelector(".menu-primary"),n=document.querySelector("#nav"),o=e.target;t.classList.toggle("menu-on"),t.classList.contains("menu-on")?(n.setAttribute("aria-expanded","true"),o.setAttribute("aria-expanded","true")):(n.setAttribute("aria-expanded","false"),o.setAttribute("aria-expanded","false"))})},window.jarvis=window.jarvis||{},window.jarvis.menuTouch=function(){if(jarvis.is_touch_device()){events.on("touchend","#nav > .menu-item-has-children > a",function(e){var t=jarvis.getParents(e.target,"li")[0];t.classList.contains("focus")||document.querySelector(".menu").classList.contains("menu-on")||(n(),e.preventDefault()),t.classList.add("focus")}),events.on("touchstart","body",function(e){jarvis.getParents(e.target,"li").length||n()});var n=function(){document.querySelectorAll("#nav > li").forEach(function(e){e.classList.remove("focus")})}}},window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1),jarvis.ready(function(){events.on("click",'a[href^="#"]',jarvis.focusElement);var e="device-click";jarvis.is_touch_device()&&(e="device-touch"),document.querySelector("html").classList.add(e),jarvis.menuTouch(),jarvis.menuToggle(),events.on("click",".menu a:not([href])",function(e){e.preventDefault()}),document.querySelectorAll("a:not([href])").forEach(function(e){e.classList.add("menu-no-href"),e.setAttribute("href","#")})});